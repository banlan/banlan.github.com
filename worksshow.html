<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>拖动展示</title>
	<link rel = "Shortcut Icon" href="image/icon.ico">
	<style>
	body{
		background: #000;
	}
	*{
		padding: 0;
		margin:0;
		list-style: none;
	}
	#box1 {
		border:1px solid #fff;
		width:800px;
		height:400px;
		margin: 50px auto;
		position: relative;
	}
	ul{
		position: absolute;
		top:110px;
		left:0;
		width:1960px;
	}
	ul li{
		position: relative;
		float: left;
		width:260px;
		height:179px;
		margin-left: 20px;
	}
	ul li img{
		position: relative;
		width:100%;
	}
	</style>
	<script>
	window.onload=function(){
		var oUl=document.getElementsByTagName('ul')[0];
		var aLi=oUl.children;
		var oBox1=document.getElementsByTagName('div')[0];

		for(var i=0; i<aLi.length; i++){
			var dis1=oBox1.offsetWidth/2;
			var dis2=oUl.offsetLeft+aLi[0].offsetWidth/2+aLi[i].offsetLeft;

			var c=Math.abs(dis1-dis2);
			var scale=1-c/500;
			if(scale<0.5){
				scale=0.5;
			}
			aLi[i].children[0].style.width=scale*520+'px';
			aLi[i].children[0].style.marginLeft=-(scale*520-260)/2+'px';
			aLi[i].children[0].style.marginTop=-(scale*358-179)/2+'px';
			aLi[i].children[0].style.zIndex=scale*10000;
		}
		
		oUl.onmousedown=function(ev){
			var oEvent=ev || event;
			var disX=oEvent.clientX-oUl.offsetLeft;
			document.onmousemove=function(ev){
				var oEvent=ev || event;
				var left=oEvent.clientX-disX;

				if(left>(oBox1.offsetWidth/2-aLi[0].offsetWidth/2-aLi[0].offsetLeft)){
					left=oBox1.offsetWidth/2-aLi[0].offsetWidth/2-aLi[0].offsetLeft;
				}
				if(left<-(aLi[aLi.length-1].offsetLeft+aLi[0].offsetWidth/2-oBox1.offsetWidth/2)){
					left=-(aLi[aLi.length-1].offsetLeft+aLi[0].offsetWidth/2-oBox1.offsetWidth/2);
				}
				oUl.style.left=left+'px';

				for(var i=0; i<aLi.length; i++){
					var dis1=oBox1.offsetWidth/2;
					var dis2=oUl.offsetLeft+aLi[0].offsetWidth/2+aLi[i].offsetLeft;

					var c=Math.abs(dis1-dis2);
					var scale=1-c/500;
					if(scale<0.5){
						scale=0.5;
					}
					aLi[i].children[0].style.width=scale*520+'px';
					aLi[i].children[0].style.marginLeft=-(scale*520-260)/2+'px';
					aLi[i].children[0].style.marginTop=-(scale*358-179)/2+'px';
					aLi[i].children[0].style.zIndex=scale*10000;
				}
			};
			document.onmouseup=function(){
				document.onmousemove=null;
				document.onmouseup=null;
			};
			return false;
		};
	};
	</script>
	<link rel="stylesheet" type="text/css" href="css/base.css">
	<link rel="stylesheet" type="text/css" href="css/animate.css">
</head>
<body>
<header class="clearfix header" >
		<div id="box">
			<a href="index.html" class="active">首页</a>
			<a href="profile.html">个人介绍</a>
			<a href="lunboshow.html">轮播展示</a>
			<!-- <a href="javascript:;">HTML5</a>
			<a href="javascript:;">首页</a> -->
			<span class=""></span>
		</div>
	</header>
<div id="box1">
	<ul>
		<li><img src="image/img3/1.jpg" alt=""></li>
		<li><img src="image/img3/2.jpg" alt=""></li>
		<li><img src="image/img3/3.jpg" alt=""></li>
		<li><img src="image/img3/4.jpg" alt=""></li>
		<li><img src="image/img3/5.jpg" alt=""></li>
		<li><img src="image/img3/6.jpg" alt=""></li>
		<li><img src="image/img3/7.jpg" alt=""></li>
	</ul>
</div>
</body>
<script type="text/javascript" src="js/jquery-1.7.2.js"></script>
<script type="text/javascript" src='js/base.js'></script>
</html>