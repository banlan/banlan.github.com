<!doctype html>
<html>
<head>
<meta charset="utf-8">
<link rel = "Shortcut Icon" href="image/icon.ico">

<title>无标题文档</title>
<style>
body{
	background: #000;
}
#box1 {
	width: 360px;
	height: 360px;
	border: #fff 1px solid;
	box-shadow: 0 0 10px  5px silver;
	margin: 50px auto;
	padding: 0;
}
#box1 li {
	width: 100px;
	height: 100px;
	background:#ccc;
	float:left;
	margin:10px;
	list-style:none;
}
#btn{
	padding:10px 15px;
	margin-top:5px;
	border-radius: 20px;
	box-shadow: 0px 6px 4px  #ccc;
	position:absolute;
	top:55px;
	transition: 0.4s all ease;
}
#btn:active{
	top:58px;
	box-shadow: 0 3px 4px #ccc;
}
</style>
<link rel="stylesheet" type="text/css" href="css/base.css">
<script src="js/move-end.js"></script>
<script>
window.onload = function(){
	var oBtn = document.getElementById('btn');
	var oBox1 = document.getElementById('box1');
	var aLi = oBox1.getElementsByTagName('li');
	var timer = null;
	var timer1 = null;
	var arr = [];
	for(var i = 0; i < aLi.length; i++){
		arr[i] = {
			left: aLi[i].offsetLeft,
			top: aLi[i].offsetTop	
		}	
		console.log(arr)
	}
	
	for(var i = 0; i < aLi.length; i++){
		aLi[i].style.top = arr[i].top + 'px';
		aLi[i].style.left = arr[i].left + 'px';
		aLi[i].style.margin = 0;
		aLi[i].style.position = 'absolute';	
	}
	
	oBtn.onclick = function(){
		clearInterval(timer);
		var iNow = 0;
		timer = setInterval(function(){
			(function(index){
				move(aLi[iNow],{left:0,top:55,width:0,height:0},{fn:function(){
				if(index == aLi.length - 1){
					index = aLi.length - 1;
					clearInterval(timer1);	
					timer1 = setInterval(function(){
						move(aLi[index],{width:100,height:100,left:arr[index].left,top:arr[index].top});
						index--;
							if(index == -1){
								clearInterval(timer1);	
							}		
					},100);
				}	
				console.log(index);
			}});	
			})(iNow);	
			iNow++;
			if(iNow == aLi.length){
				clearInterval(timer);
			}
		},100);	
	}
}
</script>
<link rel="stylesheet" type="text/css" href="css/animate.css">

</head>

<body>
<header class="clearfix header" >
		<div id="box">
			<a href="index.html" >首页</a>
			<a href="profile.html">个人介绍</a>
			<a href="lunboshow.html" class="active">轮播展示</a>
			<!-- <a href="javascript:;">HTML5</a>
			<a href="javascript:;">首页</a>
			<span class=""></span> -->
		</div>
	</header>

<input type="button" value="按钮" id="btn"/>
<ul id="box1">
	<li></li>
	<li></li>
	<li></li>
	<li></li>
	<li></li>
	<li></li>
	<li></li>
	<li></li>
	<li></li>
</ul>
</body>
<script type="text/javascript" src="js/jquery-1.7.2.js"></script>
<script type="text/javascript" src='js/base.js'></script>
</html>
